{"ast":null,"code":"import _regeneratorRuntime from\"/home/milton/Documentos/Tutoria2023/ejemplos/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/milton/Documentos/Tutoria2023/ejemplos/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/milton/Documentos/Tutoria2023/ejemplos/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),usr=_useState2[0],setUsr=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),pwd=_useState4[0],setPwd=_useState4[1];var navigate=useNavigate();var OnSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(usr&&pwd)){_context.next=18;break;}_context.prev=2;_context.next=5;return axios.post('http://localhost:3001/clase1/login/user',{name:usr,pw:pwd});case 5:res=_context.sent;console.log(res.data);localStorage.setItem('token',res.data.token);navigate('/user',{replace:true});_context.next=16;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);alert('Usuario no encontrado');setUsr('');setPwd('');case 16:_context.next=19;break;case 18:alert('Llene todos los campos');case 19:case\"end\":return _context.stop();}},_callee,null,[[2,11]]);}));return function OnSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row mt-5 justify-content-center align-middle\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-6 p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"f1\",className:\"form-label\",children:\"Usuario\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"f1\",autoComplete:\"off\",onChange:function onChange(e){return setUsr(e.target.value);},value:usr})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"f1\",className:\"form-label\",children:\"Contrase\\xF1a\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"f1\",autoComplete:\"off\",onChange:function onChange(e){return setPwd(e.target.value);},value:pwd})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2 mt-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:OnSubmit,className:\"btn btn-primary\",children:\"Ingresar\"})})]})})]})})})});}","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Home","props","_useState","_useState2","_slicedToArray","usr","setUsr","_useState3","_useState4","pwd","setPwd","navigate","OnSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","res","wrap","_callee$","_context","prev","next","preventDefault","post","name","pw","sent","console","log","data","localStorage","setItem","token","replace","t0","alert","stop","_x","apply","arguments","className","children","htmlFor","type","id","autoComplete","onChange","target","value","onClick"],"sources":["/home/milton/Documentos/Tutoria2023/ejemplos/frontend/src/components/home.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios'\n\nexport default function Home(props) {\n\n    const [usr, setUsr] = useState('')\n    const [pwd, setPwd] = useState('')\n    const navigate = useNavigate()\n\n    const OnSubmit = async(e) => {\n        e.preventDefault()\n\n        if (usr && pwd) {\n            try {\n                let res = await axios.post('http://localhost:3001/clase1/login/user',\n                    {\n                        name: usr,\n                        pw: pwd\n                    }\n                )\n                console.log(res.data)\n                localStorage.setItem('token', res.data.token)\n                navigate('/user', { replace:true })\n            } catch (error) {\n                alert('Usuario no encontrado')\n                setUsr('')\n                setPwd('')\n            }\n        } else {\n            alert('Llene todos los campos')\n        }\n    }\n\n    return (\n            <div className=\"container\">\n                <div className=\"row mt-5 justify-content-center align-middle\">\n                    <div className=\"col-6 p-5\">\n                        <div className=\"card\">\n                            <div className=\"card-header\">\n                                <h1 className=\"text-center\">Login</h1>\n                            </div>\n                            <div className=\"card-body\">\n                                <form>\n                                    <div className=\"row g-3\">\n                                        <div className=\"col-6\">\n                                            <label htmlFor=\"f1\" className=\"form-label\">Usuario</label>\n                                        </div>\n                                        <div className=\"col-6\">\n                                            <input type=\"text\" className=\"form-control\" id=\"f1\" autoComplete=\"off\" onChange={e => setUsr(e.target.value)} value={usr}/>\n                                        </div>\n                                        <div className=\"col-6\">\n                                            <label htmlFor=\"f1\" className=\"form-label\">Contrase√±a</label>\n                                        </div>\n                                        <div className=\"col-6\">\n                                            <input type=\"password\" className=\"form-control\" id=\"f1\" autoComplete=\"off\" onChange={e => setPwd(e.target.value)} value={pwd}/>\n                                        </div>\n                                    </div>\n                                    <div className=\"d-grid gap-2 mt-3\">\n                                        <button onClick={OnSubmit} className=\"btn btn-primary\">Ingresar</button>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}